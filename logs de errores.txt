Starting Container
[2025-09-15 05:21:20 +0000] [1] [INFO] Starting gunicorn 21.2.0
[2025-09-15 05:21:20 +0000] [1] [INFO] Listening at: http://0.0.0.0:8080 (1)
[2025-09-15 05:21:20 +0000] [1] [INFO] Using worker: sync
[2025-09-15 05:21:20 +0000] [4] [INFO] Booting worker with pid: 4
Ejecutando migraciones de base de datos...
[INFO] Tabla schema_migrations verificada o creada
No hay migraciones pendientes que aplicar.
Migraciones aplicadas con √©xito
Ejecutando diagn√≥stico de base de datos...
=== DIAGN√ìSTICO DE BASE DE DATOS ===
Motor: PostgreSQL
Tablas encontradas: schema_migrations, usuarios, stock_history, carrito, productos_manual, stock, proveedores_manual, proveedores_ocultos, proveedores_duenos
[OK] Todas las tablas requeridas existen
[OK] Tabla productos_manual tiene todas las columnas requeridas
[OK] Tabla proveedores_manual tiene todas las columnas requeridas
[OK] Tabla stock tiene todas las columnas requeridas
=== DIAGN√ìSTICO COMPLETADO ===
üîÑ Cargando dependencias...
‚úÖ Flask-WTF importado correctamente
‚úÖ Werkzeug y functools importados correctamente
‚úÖ pdfplumber disponible para lectura de facturas PDF
[INFO] Blueprint de diagn√≥stico Railway registrado correctamente
[INFO] Blueprint de diagn√≥stico de b√∫squeda registrado correctamente
Tabla 'productos_manual' limpiada: 0 registros eliminados.
Tabla 'stock' limpiada: 51 registros eliminados.
Tabla 'stock_history' limpiada: 51 registros eliminados.
Tabla 'carrito' limpiada: 0 registros eliminados.
[INIT] üêò Motor de base de datos activo: PostgreSQL (postgres.railway.internal:5432/railway)
Error en la consulta a la base de datos: relation "notificaciones" does not exist
LINE 1: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS N...
                                  ^
SQL original: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS NULL OR user_id=?) AND leida=0
SQL ejecutado: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS NULL OR user_id=%s) AND leida=0
Params: (1,)
[INIT] üêò Motor de base de datos activo: PostgreSQL (postgres.railway.internal:5432/railway)
Error en la consulta a la base de datos: relation "notificaciones" does not exist
LINE 1: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS N...
                                  ^
SQL original: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS NULL OR user_id=?) AND leida=0
SQL ejecutado: SELECT COUNT(1) as c FROM notificaciones WHERE (user_id IS NULL OR user_id=%s) AND leida=0
Params: (1,)